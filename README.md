# ImageViewTask
Talantix Task Readme

Task weblink:
https://talantix.ru/ats/testTasks/69c567259dc249fcad103eb65830c96b

Описание задания:
Нужно написать приложение-просмотрщик картинок. Заходим в приложение, видим бесконечную ленту-галерею картинок (каждый элемент - сама картинка + мета-информация к ней в любом виде). При клике по картинке открываем картинку подробно, цель этого экрана - показать картинку в полном размере. Также на экране картинки подробно надо показать дату ее скачивания.
- Язык приложения: Swift
- Минимальная версия iOS - 11
- Источник картинок - любое публичное АПИ
- Необходимо реализовать оффлайн-режим: приложение должно сохранять максимальную функциональность без сети (либо в случае нестабильной сети)
- Архитектура приложения - на выбор разработчика
- Использование сторонних решений приветствуется при необходимости, в этом случае нужно обоснование каждого из них (почему используется именно это решение)
- Цель приложения: минимальным количеством кода и сложности добиться качественной реализации поставленной задачи
- Непринципиальные вопросы решаются на усмотрение разработчика (с обоснованием решения, почему так), принципиальные - уточняются по почте (при их возникновении)
- Результаты нужно разместить на любом публичном репозитории и прислать ссылку на него

     Этапы реализации задания:
  Задание достаточно простое, не требует трудоемких вычислений и обработки вводимой пользователем информации. Выбираем стандартную архитектуру Apple - MVC. 

  Целесообразности использования сторонних библиотек нет, так как приложение достаточно малое и любая сторонне библиотека увеличит объем приложения без создания преимуществ. 

1. Создание UI: StoryBoard - navigation controller, collection view controller + cell, view controller + image view

Создание файлов контроллеров и моделей:
2. Папки - model, controllers.
3. Files - APImodel, ImageController, ImageCell, DetailViewController.
4. После создания UI были добавлены тестовые картинки и данные для проверки работы UI.

5. Для получения картинок используется сервис Pixabay. 
Ссылка на сервис: https://pixabay.com/ru/
Ссылка на описание API: https://pixabay.com/api/docs/
Получены и внесены в приложение API KEY и строка для типового запроса на сервер
Создана функция func request(url: URL) - получение образца JSON для дальнейшего создания структуры.

6.  Создана структура для получения данных struct ImageContainer: Codable и struct Image: Codable, создание массивов для хранения данных с сервера и поскольку сервер не передаёт дату скачивания картинки, создана еще одна структура struct ImageDate: Codable, Equatable с расширенным списком свойств и добавлено соотвествие протоколу Equatable, чтобы при загрузке с сервера избежать дублирования данных. 

7.  Создана функция func getDate() -> String -  получение даты скачивания для файла. 

8. Созданы методы func fetchData(), unc parse(json: Data) - для получения данных с сервера, func addDate() - для приведения данных к нужному формату. 

9. Заполнены соотвествующие методы для Collection view.

10. Созданы два метода func saveData() и func loadData() для сохранения данных чтобы приложение работало без интернет соединения или при плохом соединении. Использовался UserDefaults. Как другой вариант можно было бы сохранять в файловую систему as Data. 

11. Добавлена многопоточность через DispatchQueue.


<img width="343" alt="Screenshot 2022-03-02 at 10 14 14" src="https://user-images.githubusercontent.com/78177975/156319258-eec66e9f-4d25-492e-be0f-8ab7c7eeb4cf.png">

<img width="352" alt="Screenshot 2022-03-02 at 10 14 45" src="https://user-images.githubusercontent.com/78177975/156319308-67856db6-675b-4321-a4b7-68e8dd2e7d39.png">
